!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function($){var t=Array.prototype.slice,e=Array.prototype.splice,i={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"auto"},n=$(window),r=$(document),s=[],o=n.height(),c=function(){for(var t=n.scrollTop(),e=r.height(),i=e-o,c=t>i?i-t:0,a=0,p=s.length;a<p;a++){var d=s[a],l=d.stickyWrapper.offset().top,u=l-d.topSpacing-c;if(d.stickyWrapper.css("height",d.stickyElement.outerHeight()),t<=u)null!==d.currentTop&&(d.stickyElement.css({width:"",position:"",top:"","z-index":""}),d.stickyElement.parent().removeClass(d.className),d.stickyElement.trigger("sticky-end",[d]),d.currentTop=null);else{var h=e-d.stickyElement.outerHeight()-d.topSpacing-d.bottomSpacing-t-c;if(h<0?h+=d.topSpacing:h=d.topSpacing,d.currentTop!==h){var g;d.getWidthFrom?g=$(d.getWidthFrom).width()||null:d.widthFromWrapper&&(g=d.stickyWrapper.width()),null==g&&(g=d.stickyElement.width()),d.stickyElement.css("width",g).css("position","fixed").css("top",h).css("z-index",d.zIndex),d.stickyElement.parent().addClass(d.className),null===d.currentTop?d.stickyElement.trigger("sticky-start",[d]):d.stickyElement.trigger("sticky-update",[d]),d.currentTop===d.topSpacing&&d.currentTop>h||null===d.currentTop&&h<d.topSpacing?d.stickyElement.trigger("sticky-bottom-reached",[d]):null!==d.currentTop&&h===d.topSpacing&&d.currentTop<h&&d.stickyElement.trigger("sticky-bottom-unreached",[d]),d.currentTop=h}var m=d.stickyWrapper.parent(),y=d.stickyElement.offset().top+d.stickyElement.outerHeight()>=m.offset().top+m.outerHeight()&&d.stickyElement.offset().top<=d.topSpacing;y?d.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):d.stickyElement.css("position","fixed").css("top",h).css("bottom","").css("z-index",d.zIndex)}}},a=function(){o=n.height();for(var t=0,e=s.length;t<e;t++){var i=s[t],r=null;i.getWidthFrom?i.responsiveWidth&&(r=$(i.getWidthFrom).width()):i.widthFromWrapper&&(r=i.stickyWrapper.width()),null!=r&&i.stickyElement.css("width",r)}},p={init:function(t){return this.each(function(){var e=$.extend({},i,t),n=$(this),r=n.attr("id"),o=r?r+"-"+i.wrapperClassName:i.wrapperClassName,c=$("<div></div>").attr("id",o).addClass(e.wrapperClassName);n.wrapAll(function(){if(0==$(this).parent("#"+o).length)return c});var a=n.parent();e.center&&a.css({width:n.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===n.css("float")&&n.css({float:"none"}).parent().css({float:"right"}),e.stickyElement=n,e.stickyWrapper=a,e.currentTop=null,s.push(e),p.setWrapperHeight(this),p.setupChangeListeners(this)})},setWrapperHeight:function(t){var e=$(t),i=e.parent();i&&i.css("height",e.outerHeight())},setupChangeListeners:function(t){if(window.MutationObserver){var e=new window.MutationObserver(function(e){(e[0].addedNodes.length||e[0].removedNodes.length)&&p.setWrapperHeight(t)});e.observe(t,{subtree:!0,childList:!0})}else window.addEventListener?(t.addEventListener("DOMNodeInserted",function(){p.setWrapperHeight(t)},!1),t.addEventListener("DOMNodeRemoved",function(){p.setWrapperHeight(t)},!1)):window.attachEvent&&(t.attachEvent("onDOMNodeInserted",function(){p.setWrapperHeight(t)}),t.attachEvent("onDOMNodeRemoved",function(){p.setWrapperHeight(t)}))},update:c,unstick:function(t){return this.each(function(){for(var t=this,i=$(t),n=-1,r=s.length;r-- >0;)s[r].stickyElement.get(0)===t&&(e.call(s,r,1),n=r);n!==-1&&(i.unwrap(),i.css({width:"",position:"",top:"",float:"","z-index":""}))})}};window.addEventListener?(window.addEventListener("scroll",c,!1),window.addEventListener("resize",a,!1)):window.attachEvent&&(window.attachEvent("onscroll",c),window.attachEvent("onresize",a)),$.fn.sticky=function(e){return p[e]?p[e].apply(this,t.call(arguments,1)):"object"!=typeof e&&e?void $.error("Method "+e+" does not exist on jQuery.sticky"):p.init.apply(this,arguments)},$.fn.unstick=function(e){return p[e]?p[e].apply(this,t.call(arguments,1)):"object"!=typeof e&&e?void $.error("Method "+e+" does not exist on jQuery.sticky"):p.unstick.apply(this,arguments)},$(function(){setTimeout(c,0)})});